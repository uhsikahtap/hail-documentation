# Table of Contents

- [Introduction to Hail](#introduction-to-hail)
  - [Background](#background)
  - [Hail Query](#hail-query)
  - [Hail Batch](#hail-batch)
  - [Source Code Organization](#source-code-organization)
  - [Hail Query Java/Scala Code Organization](#hail-query-javascala-code-organization)
  - [Microservice Overview](#microservice-overview)
  - [List of Microservices](#list-of-microservices)
  - [Hail Overview](#hail-overview)
  - [Hail for New Engineers](#hail-for-new-engineers)
  - [Genetics, Briefly](#genetics-briefly)
  - [A Brief History](#a-brief-history)
  - [Hail Products, Briefly](#hail-products-briefly)
    - [Hail FS](#hail-fs)
    - [Hail Variant Dataset](#hail-variant-dataset)
  - [Infrastructure and Technology](#infrastructure-and-technology)
    - [Services Technology](#services-technology)
- [Common Pitfalls and Essential Framework](#common-pitfalls-and-essential-framework)
  - [Core Concepts](#core-concepts)
  - [Critical Mental Model Shifts](#critical-mental-model-shifts)
    - [1. Expression System & Lazy Evaluation](#1-expression-system-lazy-evaluation)
    - [2. Data Types & Immutability](#2-data-types-immutability)
    - [3. Distributed Computation](#3-distributed-computation)
  - [Common Mistakes to Avoid](#common-mistakes-to-avoid)
    - [Type Errors & Array Operations](#type-errors-array-operations)
    - [Immutability & Annotations](#immutability-annotations)
    - [API Function Substitutions](#api-function-substitutions)
    - [Dynamic & Generalizable Code](#dynamic-generalizable-code)
    - [Efficient Data Access & Manipulation](#efficient-data-access-manipulation)
    - [Complex Structures & Nested Data](#complex-structures-nested-data)
    - [Adding Sequence to a Reference Genome](#adding-sequence-to-a-reference-genome)
  - [Debugging & Best Practices](#debugging-best-practices)
  - [Common Patterns & Examples](#common-patterns-examples)
    - [Creating Tables](#creating-tables)
    - [Efficient Lookup Creation](#efficient-lookup-creation)
    - [Select and Annotate Combined](#select-and-annotate-combined)
    - [Dynamic Field Creation](#dynamic-field-creation)
    - [Complex Nested Array Annotations](#complex-nested-array-annotations)
  - [Genomic-Specific Notes](#genomic-specific-notes)
- [How-To: Aggregation](#how-to-aggregation)
  - [Table Aggregations](#table-aggregations)
    - [Aggregate Over Rows Into A Local Value](#aggregate-over-rows-into-a-local-value)
    - [Aggregate Per Group](#aggregate-per-group)
  - [Matrix Table Aggregations](#matrix-table-aggregations)
    - [Aggregate Entries Per Row (Over Columns)](#aggregate-entries-per-row-over-columns)
    - [Aggregate Entries Per Column (Over Rows)](#aggregate-entries-per-column-over-rows)
    - [Aggregate Column Values Into a Local Value](#aggregate-column-values-into-a-local-value)
    - [Aggregate Row Values Into a Local Value](#aggregate-row-values-into-a-local-value)
    - [Aggregate Entry Values Into A Local Value](#aggregate-entry-values-into-a-local-value)
    - [Aggregate Per Column Group](#aggregate-per-column-group)
    - [Aggregate Per Row Group](#aggregate-per-row-group)
- [How-To: Annotation](#how-to-annotation)
  - [Create a nested annotation](#create-a-nested-annotation)
  - [Remove a nested annotation](#remove-a-nested-annotation)
- [How-To: Genetics](#how-to-genetics)
  - [Formatting](#formatting)
    - [Convert variants in string format to separate locus and allele fields](#convert-variants-in-string-format-to-separate-locus-and-allele-fields)
    - [Liftover variants from one coordinate system to another](#liftover-variants-from-one-coordinate-system-to-another)
  - [Filtering and Pruning](#filtering-and-pruning)
    - [Remove related individuals from a dataset](#remove-related-individuals-from-a-dataset)
    - [Filter loci by a list of locus intervals](#filter-loci-by-a-list-of-locus-intervals)
    - [Pruning Variants in Linkage Disequilibrium](#pruning-variants-in-linkage-disequilibrium)
  - [Analysis](#analysis)
    - [Linear Regression](#linear-regression)
    - [PLINK Conversions](#plink-conversions)
  - [Create a nested annotation](#create-a-nested-annotation)
  - [Remove a nested annotation](#remove-a-nested-annotation)
- [Hail Query Python API](#hail-query-python-api)
  - [Classes](#classes)
  - [Modules](#modules)
  - [Top-Level Functions](#top-level-functions)
- [Classes](#classes)
  - [BaseTable](#basetable)
  - [Table](#table)
  - [GroupedTable](#groupedtable)
  - [MatrixTable](#matrixtable)
  - [GroupedMatrixTable](#groupedmatrixtable)
- [Modules](#modules)
  - [Expressions](#expressions)
    - [Expression](#expression)
    - [BooleanExpression](#booleanexpression)
    - [StructExpression](#structexpression)
    - [ArrayExpression](#arrayexpression)
    - [ArrayNumericExpression](#arraynumericexpression)
    - [CallExpression](#callexpression)
    - [CollectionExpression](#collectionexpression)
    - [DictExpression](#dictexpression)
    - [IntervalExpression](#intervalexpression)
    - [LocusExpression](#locusexpression)
    - [NumericExpression](#numericexpression)
    - [Int32Expression](#int32expression)
    - [Int64Expression](#int64expression)
    - [Float32Expression](#float32expression)
    - [Float64Expression](#float64expression)
    - [SetExpression](#setexpression)
    - [StringExpression](#stringexpression)
    - [TupleExpression](#tupleexpression)
    - [NDArrayExpression](#ndarrayexpression)
    - [NDArrayNumericExpression](#ndarraynumericexpression)
  - [Types](#types)
    - [Primitive types](#primitive-types)
    - [Container types](#container-types)
    - [Genetics types](#genetics-types)
    - [When to work with types](#when-to-work-with-types)
    - [Viewing an objectâ€™s type](#viewing-an-objects-type)
    - [Collection Types](#collection-types)
    - [Constructing types](#constructing-types)
    - [Reference documentation](#reference-documentation)
  - [Functions](#functions)
    - [Core language functions](#core-language-functions)
    - [Constructor functions](#constructor-functions)
    - [Collection functions](#collection-functions)
    - [Numeric functions](#numeric-functions)
    - [String functions](#string-functions)
    - [Statistical functions](#statistical-functions)
    - [Genetics functions](#genetics-functions)
  - [Aggregators](#aggregators)
  - [Scans](#scans)
  - [Methods](#methods)
  - [nd](#nd)
  - [Notes](#notes)
  - [utils](#utils)
  - [linalg](#linalg)
  - [stats](#stats)
  - [genetics](#genetics)
  - [Plot](#plot)
  - [Plotting With hail.ggplot Overview](#plotting-with-hailggplot-overview)
  - [Variant Dataset](#variant-dataset)
  - [The data model of](#the-data-model-of)
    - [The Scalable Variant Call Representation (SVCR)](#the-scalable-variant-call-representation-svcr)
    - [Component tables](#component-tables)
    - [Building analyses on the](#building-analyses-on-the)
  - [Experimental](#experimental)
  - [Contribution Guidelines](#contribution-guidelines)
  - [Annotation Database](#annotation-database)
  - [Genetics Methods](#genetics-methods)
  - [dplyr-inspired Methods](#dplyr-inspired-methods)
- [Python API](#python-api)
- [Configuration Reference](#configuration-reference)
  - [Supported Configuration Variables](#supported-configuration-variables)
- [Cheat Sheets](#cheat-sheets)
- [Datasets](#datasets)
- [Libraries](#libraries)
  - [gnomad (Hail Utilities for gnomAD)](#gnomad-hail-utilities-for-gnomad)
- [For Software Developers](#for-software-developers)
  - [Requirements](#requirements)
  - [Building Hail](#building-hail)
  - [Building the Docs and Website](#building-the-docs-and-website)
  - [Running the tests](#running-the-tests)
- [Import / Export](#import-export)
  - [Native file formats](#native-file-formats)
  - [Import](#import)
    - [General purpose](#general-purpose)
    - [Genetics](#genetics)
  - [Export](#export)
- [Call](#call)
- [Locus](#locus)
- [ReferenceGenome](#referencegenome)
- [Trio](#trio)

---


